extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
block main
    //- div #{filter}
    .container-fluid.p-0
        .d-flex.justify-content-between.align-items-center.mb-4
            div
                h2.fw-bold.mb-1 Quản lý sản phẩm
                
            a.btn.btn-primary.d-flex.align-items-center.gap-2(href='#')
                i.fas.fa-plus
                |  
                span Thêm mới
        .card.border-0.shadow-sm.mb-4
            .card-body.p-3
                .filter-bar.row.g-3.align-items-center
                    .col-12.col-md-4
                        form(method = "GET" form-search)
                            .input-group
                                button.input-group-text.bg-light.border-end-0.text-secondary.submit
                                    i.fas.fa-search
                                input.form-control.border-start-0.bg-light.ps-0(type='text', placeholder='Tìm kiếm tên, mã SP...' name = "keyword" value = keyword)
                    .col-12.col-md-8.d-flex.flex-wrap.justify-content-md-end.gap-3
                        .d-flex.align-items-center.gap-2
                            label.text-muted.small.fw-medium.text-nowrap Trạng thái:
                            +filter-status(filter)
                                    
                        .d-flex.align-items-center.gap-2
                            label.text-muted.small.fw-medium.text-nowrap Sắp xếp:
                            select.form-select.form-select-sm(style='width: 160px;')
                                option(value='price_asc') Giá: Thấp - Cao
                                option(value='price_desc') Giá: Cao - Thấp
        .card.border-0.shadow-sm
            .card-body.p-0
                .table-responsive
                    table.table.table-hover.align-middle.mb-0.product-table
                        thead.bg-light
                            tr
                                th Tên sản phẩm
                                th Hình ảnh
                                th Giá

                                th Tồn kho
                                th Trạng thái
                                th.text-end.pe-4 Hành động
                        tbody
                            each item,index in records
                                tr
                                    td #{item.title}
                                    
                                    td
                                        .d-flex.align-items-center.gap-3
                                            img.product-table__img.rounded(src=item.thumbnail, alt=item.title )
                                            
                                    td.fw-semibold.text-primary #{item.price}
                                    td #{item.stock}
                                    td
                                        if(item.status=="active")

                                            span.badge.bg-success-subtle.text-success.border.border-success-subtle.rounded-pill Đang bán
                                        else 
                                            span.badge.bg-danger-subtle.text-success.border.border-danger-subtle.rounded-pill Hết hàng

                                    td.text-end.pe-4
                                        button.btn.btn-sm.btn-light.text-secondary.me-1(title='Xem chi tiết')
                                            i.far.fa-eye
                                        button.btn.btn-sm.btn-light.text-primary.me-1(title='Chỉnh sửa')
                                            i.fas.fa-pencil-alt
                                        button.btn.btn-sm.btn-light.text-danger(title='Xóa')
                                            i.far.fa-trash-alt
                            
                .card-footer.bg-white.border-top-0.d-flex.justify-content-between.align-items-center.py-3
                    span.text-muted.small Hiển thị 1-3 trong số 45 sản phẩm
                    nav
                        ul.pagination.pagination-sm.mb-0
                            li.page-item.disabled
                                a.page-link(href='#')
                                    i.fas.fa-chevron-left
                            li.page-item.active
                                a.page-link(href='#') 1
                            li.page-item
                                a.page-link(href='#') 2
                            li.page-item
                                a.page-link(href='#') 3
                            li.page-item
                                a.page-link(href='#')
                                    i.fas.fa-chevron-right